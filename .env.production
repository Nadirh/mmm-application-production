# Production Environment Configuration for MMM Application
# Copy this to .env and update with your actual values

# Environment
MMM_ENV=production

# Server Configuration
HOST=0.0.0.0
PORT=8000

# Client Configuration (will be injected by ECS for each client)
CLIENT_ID=mmm-demo

# Database Configuration
# This will be set by AWS Systems Manager Parameter Store
DATABASE_URL=postgresql+asyncpg://mmm_admin:${DB_PASSWORD}@${DB_HOST}:5432/mmm_mmm_demo
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis Configuration (shared cluster)
REDIS_URL=redis://${REDIS_HOST}:6379
REDIS_TTL=3600
REDIS_MAX_CONNECTIONS=50

# File Upload Configuration
MAX_FILE_SIZE_MB=100
UPLOAD_DIR=/app/static/uploads

# Model Training Configuration
TRAINING_WINDOW_DAYS=126
TEST_WINDOW_DAYS=14
N_BOOTSTRAP=1000
MAX_WORKERS=4

# Optimization Configuration
OPTIMIZATION_TIMEOUT_SECONDS=300
MAX_OPTIMIZATION_ITERATIONS=1000

# Logging Configuration
LOG_LEVEL=INFO
USE_JSON_LOGGING=true
LOG_TO_STDOUT=true

# Security Configuration
SECRET_KEY=${SECRET_KEY}
CORS_ORIGINS=["https://*.mmm.yourdomain.com"]
ALLOWED_HOSTS=["*.mmm.yourdomain.com", "localhost"]

# AWS Configuration
AWS_REGION=us-east-1
AWS_S3_BUCKET=mmm-${CLIENT_ID}-production-${RANDOM_SUFFIX}

# Monitoring and Health Checks
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# Performance Settings
WORKER_CONNECTIONS=1000
KEEP_ALIVE=5
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100

# WebSocket Configuration
WEBSOCKET_HEARTBEAT_INTERVAL=30
WEBSOCKET_MAX_MESSAGE_SIZE=1048576